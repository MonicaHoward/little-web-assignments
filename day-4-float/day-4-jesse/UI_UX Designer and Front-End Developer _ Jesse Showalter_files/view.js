function calculate_total_payment(){var e=0;$("#main_body li[data-pricevalue]").each(function(t){e+=parseFloat($(this).data("pricevalue"))}),e+=parseFloat($(".total_payment").data("basetotal")),$(".total_payment var").text(e.toFixed(2))}function select_date(e){var t=$(this).attr("id").split("_");$("#element_"+t[1]+"_1").val(e.length?e[0].getMonth()+1:""),$("#element_"+t[1]+"_2").val(e.length?e[0].getDate():""),$("#element_"+t[1]+"_3").val(e.length?e[0].getFullYear():""),$("#element_"+t[1]+"_1").change()}function select_europe_date(e){var t=$(this).attr("id").split("_");$("#element_"+t[1]+"_2").val(e.length?e[0].getMonth()+1:""),$("#element_"+t[1]+"_1").val(e.length?e[0].getDate():""),$("#element_"+t[1]+"_3").val(e.length?e[0].getFullYear():""),$("#element_"+t[1]+"_1").change()}function remove_attachment(e,t,a,i,l,n){var o="";"undefined"!=typeof __machform_path&&(o=__machform_path),$("#"+i+" > div.cancel img").attr("src",o+"images/loader_small_grey.gif"),$.ajax({type:"POST",async:!0,url:o+"delete_file_upload.php",data:{filename:e,form_id:t,element_id:a,holder_id:i,is_db_live:l,key_id:n},cache:!1,global:!0,dataType:"json",error:function(e,t,a){$("#"+i+" > div.cancel img").attr("src",o+"images/icons/delete.png"),alert("Error! Unable to delete file.")},success:function(e){"ok"==e.status?$("#"+e.holder_id).fadeOut("slow",function(){$(this).remove()}):($("#"+i+" > div.cancel img").attr("src",o+"images/icons/delete.png"),alert("Error while deleting the file. Please try again."))}})}function check_upload_queue(e,t,a,l){if(1==t){var n=$("#element_"+e+"_queue").children().not(".uploadifyError");if(n.length>a)for(alert(l),i=0;i<=n.length;i++)i>=a&&$("#element_"+e).uploadifyCancel(n.eq(i).attr("id").slice(-6))}}function upload_all_files(){$("#main_body div.uploadifyQueueItem").not(".completed").parent().siblings("input.element").eq(0).uploadifyUpload(),$("#main_body div.uploadifyQueueItem").not(".completed").length<1&&$("form.appnitro").submit()}function count_input(e,t){var a=0;return"c"==t||"d"==t?a=$("#element_"+e).val().length:"w"==t&&(a=$("#element_"+e).val().trim().split(/[\s\.]+/).length),$("#currently_entered_"+e).text(a),a}function limit_input(e,t,a){var i=count_input(e,t);i>a&&("c"==t||"d"==t)&&($("#element_"+e).val($("#element_"+e).val().substr(0,a)),$("#currently_entered_"+e).text(a))}function clear_cb_other(e,t){0==$(e).prop("checked")&&$("#element_"+t+"_other").val("")}$(function(){$("form.appnitro").data("active_element","");var e=$("form.appnitro").data("highlightcolor");$("form.appnitro :input").bind("click focus",function(){var t=$(this).closest("li").not(".matrix").not(".buttons");$("form.appnitro").data("active_element",t.attr("id")),1!=t.hasClass("highlighted")&&($("form.appnitro li.highlighted").removeClass("highlighted"),""!=e?(t.siblings().not("#li_resume_email").stop(),t.siblings().not("#li_resume_email").css("background-color",""),t.animate({backgroundColor:e},500,"swing",function(){t.attr("id")==$("form.appnitro").data("active_element")?(t.addClass("highlighted").css("background-color",""),t.siblings().not("#li_resume_email").css("background-color","")):t.css("background-color","")})):t.addClass("highlighted").css("background-color",""))}),$("#main_body div.file_queue").length>0&&($("form.appnitro").submit(function(){return $("form.appnitro").data("form_submitting")!==!0?($("#li_buttons > input[type=submit]").prop("disabled",!0),$("form.appnitro").data("form_submitting",!0),upload_all_files(),!1):!0}),$("#submit_secondary").click(function(){$("#li_buttons").append('<input type="hidden" name="submit_secondary" value="1" />')}),$("#submit_primary").click(function(){$("#li_buttons").append('<input type="hidden" name="submit_primary" value="1" />')})),$("#li_resume_checkbox").length>0&&($("#element_resume_checkbox").bind("change",function(){1==$(this).prop("checked")?($("#li_resume_email").show(),$("#li_buttons > input").hide(),$("#li_buttons").append('<input type="button" value="'+$("#li_resume_email").data("resumelabel")+'" name="button_save_form" class="button_text" id="button_save_form">'),$("#button_save_form").click(function(){$("#li_buttons").append('<input type="hidden" id="generate_resume_url" name="generate_resume_url" value="1" />'),$("form.appnitro").submit()})):($("#li_resume_email").hide(),$("#button_save_form").remove(),$("#li_buttons > input").show()),$("html").hasClass("embed")&&$.postMessage({mf_iframe_height:$("body").outerHeight(!0)},"*",parent)}),"1"==$("#li_resume_email").data("resumebutton")&&($("#li_buttons > input").hide(),$("#li_buttons").append('<input type="button" value="'+$("#li_resume_email").data("resumelabel")+'" name="button_save_form" class="button_text" id="button_save_form">'),$("#button_save_form").click(function(){$("#li_buttons").append('<input type="hidden" id="generate_resume_url" name="generate_resume_url" value="1" />'),$("form.appnitro").submit()})),$("form.appnitro").submit(function(){"button_save_form"==$("#li_buttons > input:visible").attr("id")&&$("#li_buttons").append('<input type="hidden" id="generate_resume_url" name="generate_resume_url" value="1" />')})),$(".total_payment").length>0&&(calculate_total_payment(),$('#main_body li[data-pricefield="radio"]').delegate("input.radio","click",function(e){var t=$(this),a=t.attr("id").split("_"),i=a[1],l=t.data("pricedef");null==l&&(l=0);var n=$("#main_body input[data-quantity_link=element_"+i+"]"),o=1;n.length>0&&(o=parseFloat(n.val()),(isNaN(o)||0>o)&&(o=0)),$("#li_"+i).data("pricevalue",l*o),calculate_total_payment()}),$('#main_body li[data-pricefield="checkbox"]').delegate("input.checkbox","click",function(e){var t=$(this).attr("id").split("_"),a=t[1],i=$("#li_"+a+" input.checkbox"),l=0;i.each(function(e){if(null!=$(this).data("pricedef")&&1==$(this).prop("checked")){var t=$("#main_body input[data-quantity_link="+$(this).attr("id")+"]"),a=1;t.length>0&&(a=parseFloat(t.val()),(isNaN(a)||0>a)&&(a=0)),l+=$(this).data("pricedef")*a}}),$("#li_"+a).data("pricevalue",l),calculate_total_payment()}),$('#main_body li[data-pricefield="select"]').delegate("select","change",function(e){var t=$(this).attr("id").split("_"),a=t[1],i=$(this).find("option:selected").data("pricedef");null==i&&(i=0);var l=$("#main_body input[data-quantity_link=element_"+a+"]"),n=1;l.length>0&&(n=parseFloat(l.val()),(isNaN(n)||0>n)&&(n=0)),$("#li_"+a).data("pricevalue",i*n),calculate_total_payment()}),$('#main_body li[data-pricefield="money"]').delegate("input.text","keyup mouseout change",function(e){var t=$(this).attr("id").split("_"),a=t[1],i=$("#element_"+a+"_1").val()+"."+$("#element_"+a+"_2").val();i=parseFloat(i),isNaN(i)&&(i=0);var l=$("#main_body input[data-quantity_link=element_"+a+"]"),n=1;l.length>0&&(n=parseFloat(l.val()),(isNaN(n)||0>n)&&(n=0)),$("#li_"+a).data("pricevalue",i*n),calculate_total_payment()}),$('#main_body li[data-pricefield="money_simple"]').delegate("input.text","keyup mouseout change",function(e){var t=$(this).attr("id").split("_"),a=t[1],i=$(this).val();i=parseFloat(i),isNaN(i)&&(i=0);var l=$("#main_body input[data-quantity_link=element_"+a+"]"),n=1;l.length>0&&(n=parseFloat(l.val()),(isNaN(n)||0>n)&&(n=0)),$("#li_"+a).data("pricevalue",i*n),calculate_total_payment()}),$("#main_body input[data-quantity_link]").bind("keyup mouseout change",function(){var e=$(this).data("quantity_link"),t=e.split("_"),a=parseFloat($(this).val());(isNaN(a)||0>a)&&(a=0);var i=$("#li_"+t[1]).data("pricefield");if("radio"==i){var l=$("input[name="+e+"]:checked");if(l.length>0){var t=l.attr("id").split("_"),n=t[1],o=l.data("pricedef");null==o&&(o=0),$("#li_"+n).data("pricevalue",o*a),calculate_total_payment()}}else if("select"==i){var n=t[1],o=$("#"+e).find("option:selected").data("pricedef");null==o&&(o=0),$("#li_"+n).data("pricevalue",o*a),calculate_total_payment()}else if("checkbox"==i){var n=t[1],r=$("#li_"+n+" input.checkbox"),_=0;r.each(function(e){if(null!=$(this).data("pricedef")&&1==$(this).prop("checked")){var t=$("#main_body input[data-quantity_link="+$(this).attr("id")+"]"),a=1;t.length>0&&(a=parseFloat(t.val()),(isNaN(a)||0>a)&&(a=0)),_+=$(this).data("pricedef")*a}}),$("#li_"+n).data("pricevalue",_),calculate_total_payment()}else if("money"==i){var n=t[1],u=$("#element_"+n+"_1").val()+"."+$("#element_"+n+"_2").val();u=parseFloat(u),isNaN(u)&&(u=0),$("#li_"+n).data("pricevalue",u*a),calculate_total_payment()}else if("money_simple"==i){var n=t[1],u=$("#element_"+n).val();u=parseFloat(u),isNaN(u)&&(u=0),$("#li_"+n).data("pricevalue",u*a),calculate_total_payment()}}),$("#main_body input[data-quantity_link]").change()),$("form.appnitro ul.password").length>0&&$("#main_body").addClass("no_guidelines"),$("form.appnitro label").click(function(){})});
